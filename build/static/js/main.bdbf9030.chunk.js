(this.webpackJsonpmapboxAndReact=this.webpackJsonpmapboxAndReact||[]).push([[0],{23:function(e,a,t){e.exports=t(24)},24:function(e,a,t){"use strict";t.r(a),t.d(a,"Handle",(function(){return b}));var l=t(17),o=t(18),i=t(21),n=t(22),r=t(0),s=t.n(r),u=t(3),c=t.n(u),p=t(6),d=t.n(p),h=(t(29),t(20)),m=t(7);function b(e){var a=e.handle,t=a.id,l=a.value,o=a.percent,i=e.getHandleProps;return s.a.createElement("div",Object.assign({style:{left:"".concat(o,"%"),position:"absolute",marginLeft:-15,marginTop:25,zIndex:2,width:30,height:30,border:0,textAlign:"center",cursor:"pointer",borderRadius:"50%",backgroundColor:"#2C4870",color:"#333"}},i(t)),s.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:11,marginTop:-15}},l))}d.a.accessToken="pk.eyJ1IjoibWttZCIsImEiOiJjajBqYjJpY2owMDE0Mndsbml0d2V1ZXczIn0.el8wQmA-TSJp2ggX8fJ1rA";var v={position:"relative",width:"30%",height:50},f={position:"absolute",width:"100%",height:10,marginTop:35,borderRadius:5,backgroundColor:"#8B9CB6"},g={1:"AGO",2:"BDI",3:"BEN",4:"BFA",5:"BWA",6:"CAF",7:"CIV",8:"CMR",9:"COD",10:"COG",11:"CPV",12:"DJI",13:"DZA",14:"EGY",15:"ERI",16:"ETH",17:"GAB",18:"GHA",19:"GIN",20:"GMB",21:"GNB",22:"GNQ",23:"KEN",24:"LBR",25:"LBY",26:"LSO",27:"MAR",28:"MLI",29:"MOZ",30:"MRT",31:"MWI",32:"NAM",33:"NER",34:"NGA",35:"RWA",36:"SDN",37:"SEN",38:"SLE",39:"SOM",40:"SSD",41:"STP",42:"SWZ",43:"TCD",44:"TGO",45:"TUN",46:"TZA",47:"UGA",48:"ZAF",49:"ZMB",50:"ZWE"},y={1:[[11.67880883351409,-18.0395441112506],[24.0827635146694,-4.377635366107427]],2:[[28.993800497072044,-4.46551358137126],[30.8450390589687,-2.312156363797868]],3:[[.774558544224476,6.22447495853009],[3.85082880284835,12.39350862287148]],4:[[-5.520794727315028,9.39964017278909],[2.40608025898589,15.085258417277188]],5:[[20.00124233338019,-26.8837918049531],[29.3618491231722,-17.781364563205884]],6:[[14.419995451249584,2.21983656110873],[27.4611737379457,11.009192333734617]],7:[[-8.569597716425136,4.35678586749077],[-2.49396129202089,10.734519638596169]],8:[[8.492690805810334,1.65404064168932],[16.1943512292781,13.080169051742061]],9:[[12.206163360999454,-13.4581143630142],[31.3065062339817,5.373053530527471]],10:[[11.20638884505641,-5.02585440304395],[18.6498697204794,3.703069114856376]],11:[[-25.357213543522146,14.8050880064408],[-22.6764804894878,17.194676527218675]],12:[[41.77130152002552,10.910318687075],[43.4137973572072,12.706622709944]],13:[[-8.673969078782633,18.9635345895493],[11.9809701071419,37.09150628917579]],14:[[24.69799625741871,22.0013421472637],[35.7615737570691,31.664110210683646]],15:[[36.43728137249508,12.3605223286841],[43.1336269463708,18.002201465540395]],16:[[32.998438894493276,3.4009078412285],[47.9842742919989,14.892966221704711]],17:[[8.695935814827443,-3.97664306377109],[14.5024185687666,2.324250541417371]],18:[[-3.257547122710676,4.73578730703557],[1.19206530262996,11.173995950817698]],19:[[-15.079191428377445,7.20230122963262],[-7.64122957762785,12.673679033707842]],20:[[-16.8260799368922,13.0527230912037],[-13.7937487859001,13.827261735338197]],21:[[-16.71621085883682,10.9267692162175],[-13.6344428845149,12.684674465103612]],22:[[5.603193718085414,-1.46069231784424],[11.3327510702054,3.785449614422333]],23:[[33.91033519517248,-4.67975402178414],[41.8976211272234,4.620420513282312]],24:[[-11.492059789361775,4.35124553384174],[-7.36655688248939,8.553673842533343]],25:[[9.388093959395881,19.5073822641284],[25.148468001036,33.169291009271674]],26:[[27.027195141422098,-30.6577392328189],[29.4662204855297,-28.570269367717884]],27:[[-13.167520611755194,27.6594718132624],[-.994299518106317,35.910435009056016]],28:[[-12.233633448284422,10.1632260034789],[4.24084698276459,25.000708313044015]],29:[[30.21881088482374,-26.8673412758106],[40.8374143565547,-10.475241344327628]],30:[[-17.067787646818925,14.7171671732258],[-4.82863658274659,27.29692090286011]],31:[[32.6798270917229,-17.1221500948736],[35.9153819427564,-9.371052848075948]],32:[[11.717292843399271,-28.9713042880053],[25.2583370790913,-16.957389095741675]],33:[[.164802208197493,11.6958527626051],[15.9966039359589,23.52301609294541]],34:[[2.669757522728581,4.27986046567154],[14.6781749992943,13.893191705761652]],35:[[28.85648545847839,-2.83951089128324],[30.8944758822985,-1.054159681858877]],36:[[21.8414854638811,8.68549116542911],[38.5796857766238,22.226578019072377]],37:[[-17.51823808146064,12.3056304076076],[-11.3437280103967,16.694767960271577]],38:[[-13.310333366046727,6.92762853449416],[-10.2835212397281,9.998422386395802]],39:[[40.9912225422421,-1.66389470891022],[51.4120787206538,11.97602317344149]],40:[[24.154191200790834,3.48882867444349],[35.9483682369437,12.19955432720431]],41:[[6.471150911132696,.027995333650139],[7.46542771137786,1.70347746501912]],42:[[30.79560223563891,-27.3178130194279],[32.1359794171438,-25.719213671927008]],43:[[13.475155474334223,7.43853253283703],[24.0003830151035,23.451588406824072]],44:[[-.148311878875006,6.10365306702988],[1.79632392295911,11.141009656630501]],45:[[7.52585996610344,30.2413525296127],[11.5964283339481,37.34972845517174]],46:[[29.328905446936076,-11.7441908397112],[40.4419197699163,-.988272329386561]],47:[[29.5760895635851,-1.48264056268463],[35.0364719362645,4.213930495248093]],48:[[16.45802849302087,-46.9784114781806],[38.0028518078575,-22.12660562618902]],49:[[22.00079136526628,-18.0779855031847],[33.6850993233638,-8.222967862143477]],50:[[25.23634621629985,-22.4177288504699],[33.0588711492188,-15.611514198538828]]};function _(e){return g[e]}var S=["step",["get","Population_2015"],"hsla(0, 0%, 8%, 0.5)",1e4,"hsla(55, 30%, 93%, 0.5)",3e4,"hsla(60, 100%, 90%, 0.5)",1e5,"hsla(98, 55%, 81%, 0.5)",3e5,"hsla(166, 44%, 65%, 0.5)",1e6,"hsla(186, 53%, 51%, 0.5)",2e6,"hsla(197, 74%, 43%, 0.5)",11847635,"hsla(197, 74%, 43%, 0.5)"],E=["step",["get","Population_2015"],"hsla(0, 0%, 8%, 1)",1e4,"hsla(55, 30%, 93%, 1)",3e4,"hsla(60, 100%, 90%, 1)",1e5,"hsla(98, 55%, 81%, 1)",3e5,"hsla(166, 44%, 65%, 1)",1e6,"hsla(186, 53%, 51%, 1)",2e6,"hsla(197, 74%, 43%, 1)",11847635,"hsla(197, 74%, 43%, 1)"],O=[{label:"Angola",value:1},{label:"Burundi",value:2},{label:"Benin",value:3},{label:"Burkina Faso",value:4},{label:"Botswana",value:5},{label:"Central African Republic",value:6},{label:"Cote d`Ivoire",value:7},{label:"Cameroon",value:8},{label:"Democratic Republic of the Congo",value:9},{label:"Republic of the Congo",value:10},{label:"Cabo Verde",value:11},{label:"Djibouti",value:12},{label:"Algeria",value:13},{label:"Egypt",value:14},{label:"Eritrea",value:15},{label:"Ethiopia",value:16},{label:"Gabon",value:17},{label:"Ghana",value:18},{label:"Guinea",value:19},{label:"The Gambia",value:20},{label:"Guinea-Bissau",value:21},{label:"Equatorial Guinea",value:22},{label:"Kenya",value:23},{label:"Liberia",value:24},{label:"Libya",value:25},{label:"Lesotho",value:26},{label:"Morocco",value:27},{label:"Mali",value:28},{label:"Mozambique",value:29},{label:"Mauritania",value:30},{label:"Malawi",value:31},{label:"Namibia",value:32},{label:"Niger",value:33},{label:"Nigeria",value:34},{label:"Rwanda",value:35},{label:"Sudan",value:36},{label:"Senegal",value:37},{label:"Sierra Leone",value:38},{label:"Somalia",value:39},{label:"South Sudan",value:40},{label:"Sao Tome and Principe",value:41},{label:"Kingdom of Eswatini",value:42},{label:"Chad",value:43},{label:"Togo",value:44},{label:"Tunisia",value:45},{label:"Tanzania",value:46},{label:"Uganda",value:47},{label:"South Africa",value:48},{label:"Zambia",value:49},{label:"Zimbabwe",value:50}],C=function(e){Object(n.a)(t,e);var a=Object(i.a)(t);function t(e){var o;return Object(l.a)(this,t),(o=a.call(this,e)).onUpdate=function(e){o.setState({update:e})},o.onChange=function(e){o.setState({values:e})},o.remove=function(e){o.map.removeLayer(e)},o.add_point=function(e,a,t,l){o.map.addLayer({id:e,source:"africapolis_agglos",type:"circle","source-layer":"africapolis2020-3mv6ux",filter:["all",a,t],paint:{"circle-stroke-color":["step",["get","Population_"+l],"hsla(0, 0%, 8%, 1)",1e4,"hsla(55, 30%, 93%, 1)",3e4,"hsla(60, 100%, 90%, 1)",1e5,"hsla(98, 55%, 81%, 1)",3e5,"hsla(166, 44%, 65%, 1)",1e6,"hsla(186, 53%, 51%, 1)",2e6,"hsla(197, 74%, 43%, 1)",11847635,"hsla(197, 74%, 43%, 1)"],"circle-stroke-width":3,"circle-color":["step",["get","Population_"+l],"hsla(0, 0%, 8%, 0.5)",1e4,"hsla(55, 30%, 93%, 0.5)",3e4,"hsla(60, 100%, 90%, 0.5)",1e5,"hsla(98, 55%, 81%, 0.5)",3e5,"hsla(166, 44%, 65%, 0.5)",1e6,"hsla(186, 53%, 51%, 0.5)",2e6,"hsla(197, 74%, 43%, 0.5)",11847635,"hsla(197, 74%, 43%, 0.5)"]}})},o.add_shape=function(e,a){o.map.addLayer({id:e,source:"africapolis_country",type:"fill","source-layer":"africacontinent_complete-ays128",filter:a,paint:{"fill-color":"#fdfdf5","fill-opacity":["interpolate",["linear"],["zoom"],0,1,5,0]}})},o.state={lng:5,lat:0,zoom:3,selectedOption:{label:"Africa",value:""},values:2015,update:[2015]},o}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.map=new d.a.Map({container:this.mapContainer,style:"mapbox://styles/mkmd/ck9eg99c72gwg1imtdbugc9yn",center:[this.state.lng,this.state.lat],zoom:this.state.zoom}),this.map.on("move",(function(){e.setState({lng:e.map.getCenter().lng.toFixed(4),lat:e.map.getCenter().lat.toFixed(4),zoom:e.map.getZoom().toFixed(2)})})),this.map.on("load",(function(){e.map.addSource("africapolis_country",{type:"vector",url:"mapbox://mkmd.5xeh701b"}),e.map.addSource("africapolis_agglos",{type:"vector",url:"mapbox://mkmd.3e0rk98j"}),e.map.addSource("africapolis_country_label",{type:"vector",url:"mapbox://mkmd.6v0ckax4"}),e.map.addSource("africapolis_region_label",{type:"vector",url:"mapbox://mkmd.3yut44ue"}),e.map.addLayer({id:"country",source:"africapolis_country",type:"fill","source-layer":"africacontinent_complete-ays128",paint:{"fill-color":"#fdfdf5","fill-opacity":.2}}),e.map.addLayer({id:"agglomerations",source:"africapolis_agglos",type:"circle","source-layer":"africapolis2020-3mv6ux",filter:[">","Population_2015",0],paint:{"circle-stroke-color":E,"circle-stroke-width":3,"circle-color":S}}),e.map.addLayer({id:"country_labels",source:"africapolis_country_label",type:"symbol","source-layer":"OECD_countryname-0ogi2f",filter:["all",["match",["get","ISO3_CODE"],["AGO","BDI","BEN","BFA","BWA","CAF","CIV","CMR","COD","COG","CPV","DJI","DZA","EGY","ERI","ETH","GAB","GHA","GIN","GMB","GNB","GNQ","KEN","LBR","LBY","LSO","MAR","MLI","MOZ","MRT","MWI","NAM","NER","NGA","RWA","SDN","SEN","SLE","SOM","SSD","STP","SWZ","TCD","TGO","TUN","TZA","UGA","ZAF","ZMB","ZWE","MDG","SYC","COM"],!0,!1]],layout:{"text-field":["get","NAME_EN"],"text-font":["Helvetica Neue LT Std 75 Bold","Arial Unicode MS Regular"],"text-size":["interpolate",["linear"],["zoom"],2,["step",["get","scalerank"],10,3,8,5,5],9,["step",["get","scalerank"],35,3,27,5,22]]},paint:{"text-opacity":["step",["zoom"],0,3,1,22,1],"text-color":["case",["boolean",["feature-state","hover"],!1],"hsl(0,0%,0%)","#6d6d6f"],"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":1.25}}),e.map.addLayer({id:"region_labels",source:"africapolis_region_label",type:"symbol","source-layer":"region-78kdxj",layout:{"text-field":["to-string",["get","Name"]],"text-font":["Helvetica Neue LT Std 75 Bold","Arial Unicode MS Regular"],"text-size":26},paint:{"text-color":["case",["boolean",["feature-state","hover"],!1],"hsl(60,100%,50%)","hsl(0, 0%, 100%)"],"text-halo-color":"hsl(0, 0%, 0%)","text-halo-width":3,"text-opacity":["step",["zoom"],1,3,0,22,0]}}),e.map.on("click","country_labels",(function(a){var t,l,o;1===a.features[0].layer.paint["text-opacity"]&&(e.setState({selectedOption:{value:(l=g,o=a.features[0].properties.ISO3_CODE,Object.keys(l).find((function(e){return l[e]===o}))),label:a.features[0].properties.NAME_EN}}),e.map.fitBounds((t=e.state.selectedOption.value,y[t])))})),e.map.on("click","region_labels",(function(a){1===a.features[0].layer.paint["text-opacity"]&&e.setState({selectedOption:{value:a.features[0].properties.Region_ID,label:a.features[0].properties.Name,region:"Yes"}})}));var a=null;e.map.on("mouseenter","country_labels",(function(t){t.features.length>0&&(a&&e.map.setFeatureState({source:"africapolis_country_label",id:a,sourceLayer:"OECD_countryname-0ogi2f"},{hover:!1}),a=t.features[0].id,e.map.setFeatureState({source:"africapolis_country_label",id:a,sourceLayer:"OECD_countryname-0ogi2f"},{hover:!0}))})),e.map.on("mouseleave","country_labels",(function(t){a&&e.map.setFeatureState({source:"africapolis_country_label",id:a,sourceLayer:"OECD_countryname-0ogi2f"},{hover:!1}),a=null})),e.map.on("mouseenter","region_labels",(function(t){console.log(t.features.length),t.features.length>0&&(a&&e.map.setFeatureState({source:"africapolis_region_label",id:a,sourceLayer:"region-78kdxj"},{hover:!1}),a=t.features[0].id,e.map.setFeatureState({source:"africapolis_region_label",id:a,sourceLayer:"region-78kdxj"},{hover:!0}))})),e.map.on("mouseleave","region_labels",(function(t){a&&e.map.setFeatureState({source:"africapolis_region_label",id:a,sourceLayer:"region-78kdxj"},{hover:!1}),a=null}))}))}},{key:"componentDidUpdate",value:function(e,a){a.selectedOption===this.state.selectedOption&&a.update[0]===this.state.update[0]||(this.remove("country"),this.remove("agglomerations"),"Africa"===this.state.selectedOption.label?(this.add_shape("country",[">","Region_ID",0]),this.add_point("agglomerations",[">","Region_ID",0],[">","Population_"+this.state.update[0],1e4],this.state.update[0])):this.state.selectedOption.region?(this.add_shape("country",["==","Region_ID",this.state.selectedOption.value]),this.add_point("agglomerations",["==","Region_ID",this.state.selectedOption.value],[">","Population_"+this.state.update[0],0],this.state.update[0])):(this.add_shape("country",["==","ISO3",_(this.state.selectedOption.value)]),this.add_point("agglomerations",["==","ISO3",_(this.state.selectedOption.value)],[">","Population_"+this.state.update[0],0],this.state.update[0])))}},{key:"render",value:function(){var e=this,a=this.state.selectedOption;return s.a.createElement("div",null,s.a.createElement("div",null,"Longitude: ",this.state.lng," | Latitude: ",this.state.lat," | Zoom: ",this.state.zoom),s.a.createElement("div",{ref:function(a){return e.mapContainer=a},className:"mapContainer"},s.a.createElement(m.b,{mode:1,rootStyle:v,domain:[1950,2015],values:[2015],step:10,onUpdate:this.onUpdate,onChange:this.onChange},s.a.createElement("div",{style:f}),s.a.createElement(m.a,null,(function(e){var a=e.handles,t=e.getHandleProps;return s.a.createElement("div",{className:"slider-handles"},a.map((function(e){return s.a.createElement(b,{key:e.id,handle:e,getHandleProps:t})})))}))),s.a.createElement(h.a,{value:a,onChange:function(a){return e.setState({selectedOption:a})},options:O})))}}]),t}(s.a.Component);c.a.render(s.a.createElement(C,null),document.getElementById("app"))}},[[23,1,2]]]);
//# sourceMappingURL=main.bdbf9030.chunk.js.map